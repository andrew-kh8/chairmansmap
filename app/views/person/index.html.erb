<%= javascript_include_tag "people" %>

<!--menu bar-->
<div class="mb-5 pb-5 px-5 bg-white rounded shadow-xl">
    <div class="-mx-1">
        <ul class="flex w-full flex-wrap items-center h-10">
            <li class="block relative">
                <input class="peer sr-only" type="radio" value="kept" name="members" id="i1" checked/>
                <label for="i1" class="people_filter flex justify-center cursor-pointer border border-gray-300 bg-white py-2 px-4 hover:bg-gray-50 focus:outline-none peer-checked:border-transparent peer-checked:ring-2 peer-checked:ring-indigo-500 transition-all duration-500 ease-in-out">
                    Активные участники (<%=@people.kept.count%>)
                </label>
            </li>

            <li class="block relative mx-2">
                <input class="peer sr-only" type="radio" value="discarded" name="members" id="i2"/>
                <label for="i2" class="people_filter flex justify-center cursor-pointer border border-gray-300 bg-white py-2 px-4 hover:bg-gray-50 focus:outline-none peer-checked:border-transparent peer-checked:ring-2 peer-checked:ring-indigo-500 transition-all duration-500 ease-in-out">
                    Бывшие участники (<%=@people.discarded.count%>)
                </label>
            </li>

            <li class="block relative">
                <input class="peer sr-only" type="radio" value="all" name="members" id="i3"/>
                <label for="i3" class="people_filter flex justify-center cursor-pointer border border-gray-300 bg-white py-2 px-4 hover:bg-gray-50 focus:outline-none peer-checked:border-transparent peer-checked:ring-2 peer-checked:ring-indigo-500 transition-all duration-500 ease-in-out">
                    Все участники (<%=@people.count%>)
                </label>
            </li>
        </ul>
    </div>
</div>

<!--table with people-->
<div class="px-4 sm:px-8 py-4 overflow-x-auto mx-16" id="for-table">
    <div class="inline-block min-w-full shadow rounded-lg overflow-hidden">
        <table class="min-w-full leading-normal">
            <thead>
                <tr>
                    <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                        ФИО
                    </th>
                    <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                        Телефон
                    </th>
                    <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                        Адрес
                    </th>
                    <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                        Участник с
                    </th>
                    <th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                        Количество участков
                    </th>
                    <th
                        class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
                    </th>
                </tr>
            </thead>

            <tbody>
                <%@people.each do |person| %>
                <tr>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm flex items-center ml-3">
                        <p class="text-gray-900 whitespace-no-wrap">
                            <%=person.full_name%>
                        </p>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                        <p class="text-gray-900 whitespace-no-wrap">
                            <%=person.tel%>
                        </p>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                        <p class="text-gray-900 whitespace-no-wrap">
                            <%=person.address%>
                        </p>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                        <p class="text-gray-900 whitespace-no-wrap">
                            <%=person.member%>
                        </p>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                        <p class="text-gray-900 whitespace-no-wrap">
                            <%=person.owners.map(&:plot).count%>
                        </p>
                    </td>
                    <td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
                        <%= link_to "Редактировать", edit_person_path(person) %>
                    </td>
                </tr>
                <%end%>
            </tbody>
        </table>
    </div>
</div>
